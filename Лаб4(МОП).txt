.MODEL SMALL
.STACK 100H

.DATA
    ; Определение массивов
    A DW 1, 0, 3, 0, 5, 0, 7
    B DW 0, 0, 2, 3, 0, 6, 0
    C DW 4, 5, 0, 0, 1, 9, 0, 0, 0

    ; Переменные для хранения результатов
    RESULT_A DW ?
    RESULT_B DW ?
    RESULT_C DW ?

.CODE
.STARTUP
    ; Макроопределение для подсчета нулевых элементов
    COUNT_ZERO MACRO ARRAY_NAME, SIZE, RESULT
        LOCAL NEXT, END_LOOP

        ; Инициализируем регистр для подсчета нулей
        MOV CX, 0          ; CX будет использоваться как счетчик нулевых элементов
        MOV SI, 0          ; Индекс массива

    NEXT:
        CMP SI, SIZE       ; Проверка, достигнут ли конец массива
        JGE END_LOOP       ; Если достигнут конец, выйти из цикла

        MOV AX, ARRAY_NAME[SI] ; Загружаем текущий элемент массива в AX
        CMP AX, 0          ; Сравниваем с нулем
        JNE NOT_ZERO       ; Если элемент не равен нулю, пропускаем увеличение счетчика

        INC CX             ; Увеличиваем счетчик нулевых элементов

    NOT_ZERO:
        ADD SI, 2          ; Переход к следующему элементу (размер элемента 2 байта)
        JMP NEXT           ; Переход к следующей итерации

    END_LOOP:
        MOV RESULT, CX     ; Сохраняем количество нулевых элементов в RESULT
    ENDM

    ; Подсчет нулевых элементов для массива A
    COUNT_ZERO A, 7, RESULT_A

    ; Подсчет нулевых элементов для массива B
    COUNT_ZERO B, 7, RESULT_B

    ; Подсчет нулевых элементов для массива C
    COUNT_ZERO C, 9, RESULT_C

    ; Завершение программы
    MOV AX, 4C00H
    INT 21H

END
